@using HomelessHelper.Core.Infrastructure
@model HomelessHelper.Models.SearchModel

@{
    ViewBag.Title = "Search";
}

<!DOCTYPE html>

<html>
<head>
    <title>Search</title>
</head>
<body>
<br/>
    
<form class="navbar-form navbar-left" role="search" action="@Url.Action("Search", "Search")">
    <div class="container" style="width: 100%">
        <div class="form-group" style="width: 75%">
            <input id="SearchTerm" name="SearchTerm" type="text" class="form-control" placeholder="search by name, DOB, or SSN">
        </div>
        <button type="submit" class="btn btn-default">Submit</button>
    </div>
</form>
<br /><br /><br />
    
<div class="container">
    <h2>Clients</h2>
    <table class="table-striped" style="width: 100%">
        <tr>
            <th>Name</th>
            <th>UUID</th>
            <th>SSN</th>
            <th>Bed #</th>
            <th>DOB</th>
        </tr>
        @foreach (var client in Model.Clients.OrderByDescending(x => x.LastName))
        {
            <tr>
                <td>@($"{client.FirstName} {client.MiddleName} {client.LastName}")</td>
                <td>@client.UUID</td>
                <td>@client.SSN.MaskSSN()</td>
                <td>@client.BedNumber</td>
                <td>@(client.DateOfBirth?.ToString("MM/dd/yyyy"))</td>
            </tr>
        }
    </table>
</div>
</body>
</html>