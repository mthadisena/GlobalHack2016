@using HomelessHelper.Core.Infrastructure
@model HomelessHelper.Models.SearchModel

@{
    ViewBag.Title = "Search";
}

<!DOCTYPE html>

<html>
<head>
    <title>Search</title>
</head>
<body>
<br/>
    
<form class="navbar-form navbar-left" role="search" action="@Url.Action("Search","Search")">
    <div class="form-group">
        <input id="SearchTerm" name="SearchTerm" type="text" class="form-control" placeholder="search by name, DOB, or SSN">
    </div>
    <button type="submit" class="btn btn-default">Submit</button>
</form>
<br /><br /><br />
    <table class="table">
        <tr>
            <th>Name</th>
            <th>UUID</th>
            <th>SSN</th>
            <th>Bed #</th>
            <th>DOB</th>
        </tr>
        @foreach (var client in Model.Clients.OrderByDescending(x => x.LastName))
        {
            <tr>
                <td>@($"{client.FirstName} {client.MiddleName} {client.LastName}")</td>
                <td>@($"UUID: {client.UUID}")</td>
                <td>@($"SSN: {client.SSN.MaskSSN()}")</td>
                <td>@($"Bed #: {client.BedNumber}")</td>
                <td>@string.Format($"DOB : {client.DateOfBirth?.ToString("MM/dd/yyyy")}")</td>
            </tr>
        }
    </table>
</body>
</html>